<!DOCTYPE html>
<html lang="en-us">

    <head>

        <title>Setting up my Hugo Website</title>

        <style>

    html body {
        font-family: Raleway, sans-serif;
        background-color: white;
    }

    :root {
        --accent: red;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="/css/main.css">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">


 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-dark.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
 


    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

     <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/c#.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/kotlin.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/css.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/http.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/ruby.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/groovy.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/json.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/markdown.min.js"></script> 

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
 <meta name="generator" content="Hugo 0.25.1" />

        <meta charset="utf-8">

        <meta name="viewport" content="width=device-width, initial-scale=1">

    </head>

    <body>

        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Setting up my Hugo Website</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/languages/">Languages</a></li>
                            
                                <li><a href="/frameworks/">Frameworks</a></li>
                            
                                <li><a href="/tools/">Tools</a></li>
                            
                                <li><a href="/techniques/">Techniques</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="mailto:jimmy.tharpe@gmail.com"><i class="fa fa-envelope-o"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/jamestharpe/"><i class="fa fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://twitter.com/jamestharpe/"><i class="fa fa-twitter"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.linkedin.com/in/jamestharpe/"><i class="fa fa-linkedin"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://stackoverflow.com/users/104763/james"><i class="fa fa-stack-overflow"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<main>

    <div class="item">

    
    

    
    

    <h4><a href="/setting-up-hugo-website/">Setting up my Hugo Website</a></h4>
    <h5>August 20, 2017</h5>
    

</div>


    <br> <div class="text-justify">

<h1 id="moving-my-website-to-hugo">Moving my Website to Hugo</h1>

<p>I&rsquo;ve decided to move <a href="https://www.jamestharpe.com/">my website</a> off of <a href="https://wordpress.org/">WordPress</a> and on to a static site generator. After building sites for several clients using <a href="https://jekyllrb.com/">Jekyll</a>, I thought it would be nice to try something new.</p>

<p>Since my website has been very neglected, most of the content is outdated so I&rsquo;m not going to bother moving much of it over. If I were, I might try the <a href="https://github.com/SchumacherFM/wordpress-to-hugo-exporter">wordpress-to-hugo-exporter exporter</a>.</p>

<h2 id="why-not-jekyll">Why not Jekyll?</h2>

<p>Though I liked Jekyll overall, I did have a few complaints:</p>

<ul>
<li><strong>Clunky Liquid syntax.</strong>  I found Liquid to be too verbose and a bit awkward. Liquid is meant for people with very little coding experience, which often means expecting users to take &ldquo;the long way&rdquo; to achieve something more experienced developers might like to do more succinctly.</li>
<li><strong>Slow code/test cycle.</strong> Sites with a lot of content or complex templates take too long to generate. I sometimes found myself spending as much time tweaking my development build settings to speed up site generation as I did on actual development.</li>
<li><strong>Just-okay Windows support.</strong> Jekyll <a href="https://jekyllrb.com/docs/windows/">works on Windows</a>, but it takes more effort than I&rsquo;d like. Some features break or require extra configuration, for example file monitoring wasn&rsquo;t working on Windows for a while (this is fixed now).</li>
</ul>

<h2 id="enter-hugo">Enter Hugo</h2>

<p><a href="http://gohugo.io/">Hugo</a> seems to address all my Jekyll grievances:</p>

<ul>
<li>Hugo uses Go&rsquo;s <a href="https://golang.org/pkg/html/template/">html</a> and <a href="https://golang.org/pkg/text/template/">text</a> templating libraries</li>
<li>Hugo is <em>fast</em></li>
<li>Auto-reload makes the dev/test cycle extremely convenient</li>
<li>Hugo easily installs on Windows</li>
</ul>

<h3 id="scaffolding-with-hugo">Scaffolding with Hugo</h3>

<p>Following the <a href="https://gohugo.io/getting-started/quick-start/">Hugo Quick Start Guide</a>, scaffolding this website only took a few moments on the command line, and &ldquo;just worked&rdquo; without any fuss:</p>

<pre><code class="language-bash"># Install Hugo
choco install hugo --yes

# Scaffold my website
hugo new site jamestharpe.com &amp;&amp; cd jamestharpe.com

# Add my first post
hugo new post/setting-up-hugo.md

# Install a theme to test with
git clone https://github.com/dim0627/hugo_theme_robust.git &amp;&amp; cd hugo_theme_robust &amp;&amp; git checkout 3baae29 &amp;&amp; cd ../

# Preview the site
hugo server --buildDrafts
</code></pre>

<p>The result:</p>

<p><a href="/img/jamestharpe.com-hugo-scaffold_995x680.png"><img src="/img/jamestharpe.com-hugo-scaffold_600x409.png" alt="Scaffolded Hugo Website" /></a></p>

<p>Huzzah!</p>

<h3 id="trying-out-auto-reload">Trying out Auto Reload</h3>

<p>Let&rsquo;s try Hugo&rsquo;s auto-reload feature:</p>

<p><img src="/img/hugo-auto-reload_600x634.gif" alt="Hugo auto-reload demo" /></p>

<p>Now that&rsquo;s the quick dev/test cycle I&rsquo;ve been looking for!</p>

<h3 id="modifying-the-theme">Modifying the Theme</h3>

<p>Just to get started, I chose the <a href="https://themes.gohugo.io/robust/">Robust Hugo theme</a>. One of the first things I noticed was that it puts the page title as an <code>h1</code> tag in each article.</p>

<p>In most cases, I&rsquo;d prefer the title and the article heading to be different. I&rsquo;d also like to simply put the heading in markdown for each article, rather than having it be based on frontmatter. Let&rsquo;s see if we can improve things.</p>

<p>To override a template in a Hugo theme, all you need to do is copy the file from the <code>themes/{theme-name}/layouts/</code> directory into your site&rsquo;s <code>layouts/</code> directory:</p>

<p><img src="/img/hugo-override-layout_364x578.png" alt="Override a Hugo Template" /></p>

<p>Finally, remove the offending code and save:</p>

<p><img src="/img/hugo-override-layout_600x633.gif" alt="Hugo override template demo" /></p>

<p>Voil√†!</p>

<h3 id="changing-themes-minimal">Changing Themes: Minimal</h3>

<p>After browsing the <a href="https://themes.gohugo.io/">Hugo Themes site</a> I settled on <a href="https://themes.gohugo.io/theme/minimal/">Minimal</a> as my starter theme (sorry, Robust). Switching themes is pretty easy:</p>

<pre><code class="language-bash">git submodule add git@github.com:calintat/minimal.git themes/minimal
git submodule init
git submodule update
</code></pre>

<p>Note that this time I opted to use add a <a href="https://git-scm.com/docs/git-submodule">git submodule</a> rather than a clone, which allows me to easily update to the latest version of the theme automatically:</p>

<pre><code class="language-bash">git submodule update --remote themes/minimal
</code></pre>

<h3 id="taxonomy">Taxonomy</h3>

<p>Hugo comes with <a href="https://gohugo.io/content-management/taxonomies/">tags and categories</a> by default. I plan to blog about software development and related topics, and I tend to use a lot of technologies which makes it difficult to organize my planned posts into simple tags and categories. Instead, I&rsquo;ve decided to go with a more custom approach:</p>

<ul>
<li><strong>Languages</strong> will cover the programming languages used in each article, in this article I&rsquo;m using <a href="/languages/markdown/">markdown</a></li>
<li><strong>Frameworks</strong> will cover the frameworks used in each article, for example ASP.NET</li>
<li><strong>Tools</strong> will cover the tools used in each article, in this article I&rsquo;m using <a href="/tools/hugo/">hugo</a></li>
<li><strong>Techniques</strong> will cover the techniques used in each article, in this article I&rsquo;m using static site generation</li>
</ul>

<p>Setting up this custom taxonomy is easy. Just open the site&rsquo;s <code>config.toml</code> file and add your custom taxonomies in <code>single = &quot;plural&quot;</code> format:</p>

<pre><code class="language-toml">[taxonomies]
    framework = &quot;frameworks&quot;
    language = &quot;languages&quot;
    technique = &quot;techniques&quot;
    tool = &quot;tools&quot;
</code></pre>

<p>Then simply assign them in each article&rsquo;s frontmatter:</p>

<pre><code class="language-markdown">---
title: &quot;Setting up my Hugo Website&quot;
languages: [ &quot;markdown&quot;, &quot;toml&quot; ]
tools: [ &quot;hugo&quot; ]
technique: [ &quot;static site generation&quot; ]
# ...
---
</code></pre>

<p>Hugo will now generate <a href="https://gohugo.io/templates/lists/">list pages</a> for each taxonomy.</p>

<h3 id="publishing-my-hugo-site-to-github-pages">Publishing My Hugo Site to GitHub Pages</h3>

<p><a href="https://pages.github.com/">GitHub Pages</a> allows static website hosting from a GitHub repository by publishing your website to a <code>/docs</code> folder or to a <code>gh-pages</code> branch. Though publishing to the <code>/docs</code> folder requires less setup, the <code>gh-pages</code> branch approach seems cleaner and the setup is easily automated.</p>

<h4 id="script-to-setup-hugo-site-publishing-to-gh-pages-branch">Script to Setup Hugo Site Publishing to <code>gh-pages</code> Branch</h4>

<p>This script only needs to be run once. It was modified from the <a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">Hosting on GitHub Hugo documentation</a>:</p>

<pre><code class="language-bash"># Create branch

git checkout --orphan gh-pages
git reset --hard
git commit --allow-empty -m &quot;Initializing gh-pages branch&quot;
git push -u origin gh-pages
git checkout master

# Add worktree
rm -rf public
git worktree add -B gh-pages public origin/gh-pages
</code></pre>

<p>This creates the <code>gh-pages</code> branch with a new history, independent from <code>master</code> (read more about <a href="https://git-scm.com/docs/git-checkout/#git-checkout---orphanltnewbranchgt">orphan branches</a> in the Git docs). It then checks out the <code>gh-pages</code> branch into the <code>public</code> folder (which is ignored in <code>.gitignore</code>), which is where Hugo will statically generate the site by default.</p>

<h4 id="script-to-publish-hugo-site-to-github-pages">Script to Publish Hugo Site to GitHub Pages</h4>

<pre><code class="language-bash">hugo
pushd public
git add --all
git commit -m &quot;Publishing to gh-pages as of $(date)&quot;
git push
popd
</code></pre>

<p>This generates the Hugo site, commits the generated files to the <code>gh-pages</code> branch, then pushes them to GitHub, which makes it live!</p>
</div>

    
    

    

</main>



        <footer>

            <p class="copyright text-muted">Copyright &copy; James Tharpe; All rights reserved.</p>

        </footer>

    </body>

</html>

