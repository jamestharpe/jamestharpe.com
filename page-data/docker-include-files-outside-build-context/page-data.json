{"componentChunkName":"component---src-templates-article-tsx","path":"/docker-include-files-outside-build-context/","result":{"data":{"markdownRemark":{"html":"<h1>\"Forbidden path outside the build context\"</h1>\n<p>I was recently attempting to Dockerize a Node project, so I added a <code class=\"language-text\">docker</code> folder to the project and created a simple <code class=\"language-text\">Dockerfile</code> to get started:</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token keyword\">FROM</span>  node<span class=\"token punctuation\">:</span>alpine\n<span class=\"token keyword\">WORKDIR</span> /app\n<span class=\"token keyword\">COPY</span> ../ ./\n<span class=\"token keyword\">RUN</span> npm install\n<span class=\"token keyword\">EXPOSE</span> 80\n<span class=\"token keyword\">ENTRYPOINT</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"npm\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"start\"</span> <span class=\"token punctuation\">]</span></code></pre></div>\n<p>However, when I tried to build the image, I got the following output:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker build -t node-app <span class=\"token builtin class-name\">.</span>\nSending build context to Docker daemon  <span class=\"token number\">53</span>.76kB\nStep <span class=\"token number\">1</span>/6 <span class=\"token builtin class-name\">:</span> FROM node:alpine\n ---<span class=\"token operator\">></span> 04a3ba95f191\nStep <span class=\"token number\">2</span>/6 <span class=\"token builtin class-name\">:</span> WORKDIR /app\n ---<span class=\"token operator\">></span> 85fff9a66b84\nRemoving intermediate container e2c838595c90\nStep <span class=\"token number\">3</span>/6 <span class=\"token builtin class-name\">:</span> COPY <span class=\"token punctuation\">..</span>/ ./\nCOPY failed: Forbidden path outside the build context: <span class=\"token punctuation\">..</span>/ <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Note the error: <strong>COPY failed: Forbidden path outside the build context: ../ ()</strong></p>\n<p>According to Docker's <a href=\"https://docs.docker.com/engine/reference/builder/#copy\"><code class=\"language-text\">COPY</code> documentation</a>:</p>\n<blockquote>\n<p><code class=\"language-text\">COPY</code> obeys the following rules:</p>\n<ul>\n<li>The <code class=\"language-text\">&lt;src&gt;</code> path must be inside the context of the build; you cannot <code class=\"language-text\">COPY ../something /something</code>, because the first step of a <code class=\"language-text\">docker build</code> is to send the context directory (and subdirectories) to the docker daemon.</li>\n</ul>\n</blockquote>\n<p>It turns out that <strong>you cannot include files outside Docker's build context</strong>. However, you <em>can</em> copy files from the Dockerfile's parent directory.</p>\n<h2>How to <code class=\"language-text\">COPY</code> Files from the Dockerfile Parent Directory</h2>\n<p>I tried several combinations of command line arguments to include the parent directory in the context, and finally landed on the solution: start from the parent directory, and pass the Dockerfile as an argument.</p>\n<p>To do this, first update the <code class=\"language-text\">COPY</code> command to use the current (<code class=\"language-text\">./</code>) directory:</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token keyword\">FROM</span>  node<span class=\"token punctuation\">:</span>alpine\n<span class=\"token keyword\">WORKDIR</span> /app\n<span class=\"token keyword\">COPY</span> ./ ./\n<span class=\"token keyword\">RUN</span> npm install\n<span class=\"token keyword\">EXPOSE</span> 80\n<span class=\"token keyword\">ENTRYPOINT</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"npm\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"start\"</span> <span class=\"token punctuation\">]</span></code></pre></div>\n<p>Next, <code class=\"language-text\">cd ..</code> into the parent directory and run <code class=\"language-text\">docker build</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">~/Code/node-app/docker\n$ <span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>\n\n~/Code/node-app\n$ docker build -t node-app -f docker/Dockerfile <span class=\"token builtin class-name\">.</span>\nSending build context to Docker daemon  <span class=\"token number\">263</span>.7MB\n<span class=\"token punctuation\">..</span>.\nSuccessfully built d296bf765369\nSuccessfully tagged node-app:latest</code></pre></div>\n<p>Success!</p>","fields":{"slug":"/docker-include-files-outside-build-context/"},"frontmatter":{"title":"Include Files Outside Docker Build Context","tags":["docker"]}},"allMarkdownRemark":{"nodes":[{"excerpt":"","frontmatter":{"title":"AWS Command Line Interface (CLI)","tags":["aws"],"description":"The AWS CLI is a tool to manage AWS services via command line"},"fields":{"slug":"/aws-cli/"}},{"excerpt":"","frontmatter":{"title":"AWS CloudFormation","tags":["aws"],"description":"AWS CloudFormation is a service to model AWS infrastructure as code"},"fields":{"slug":"/aws-cloudformation/"}},{"excerpt":"","frontmatter":{"title":"AWS CloudFormation","tags":["aws"],"description":"AWS DynamoDB is a 'NoSQL' key-value and document database"},"fields":{"slug":"/aws-dynamodb/"}},{"excerpt":"Automate Your Development Environment Setup Starting from a fresh OS installation, manually installing and configuring a full development…","frontmatter":{"title":"Automatically Build a Developer Environment on Windows","tags":["powershell","chocolatey"],"description":"A step-by-step guide to automate tool and framework installation for developers that use Windows"},"fields":{"slug":"/automated-developer-environment/"}},{"excerpt":"","frontmatter":{"title":"Amazon Web Services (AWS)","tags":[],"description":null},"fields":{"slug":"/aws/"}},{"excerpt":"Command Line Interfaces Command-line Interfaces (CLIs) are applications that to process text-based commands, typically entered into a…","frontmatter":{"title":"Command-line Interface (CLI)","tags":["terminal","shell"],"description":"Programs that take commands through terminals and shells"},"fields":{"slug":"/cli/"}},{"excerpt":"Chocolatey Chocolatey is a package manager for Windows, similar to Homebrew for Mac.","frontmatter":{"title":"Chocolatey (Windows Package Manager)","tags":["package-managers"],"description":"Knowledge about Chocolatey: a package manager for managing software on Windows"},"fields":{"slug":"/chocolatey/"}},{"excerpt":"AWS Identity and Access Management (IAM) IAM is a global service (no need to set a region) that completely manages all AWS Security \"in the…","frontmatter":{"title":"AWS Identity and Access Management (IAM)","tags":["aws"],"description":"AWS IAM: Identity Access Management for the AWS Cloud"},"fields":{"slug":"/aws-iam/"}},{"excerpt":"Recipe: Database as Code with Flyway & MySQL on Cloud Foundry This recipe is illustrated in the PAL Tracker example project. 1. Provision…","frontmatter":{"title":"Database as Code: Flyway & MySQL on Cloud Foundry","tags":["cloud-foundry","database-as-code","flyway","mysql","pal-tracker"],"description":null},"fields":{"slug":"/cloud-foundry-database-as-code-flyway/"}},{"excerpt":"Bash Bash is a Unix shell Bash Command Shortcuts Command Use Example  Show list of previous commands  will show last five commands executed…","frontmatter":{"title":"Bourne Again Shell (Bash)","tags":["shell","terminal"],"description":"A Unix shell"},"fields":{"slug":"/bash/"}},{"excerpt":"","frontmatter":{"title":"Cloud Foundry","tags":[],"description":"Could Foundry: An open-source cloud platform as a service (PaaS)"},"fields":{"slug":"/cloud-foundry/"}},{"excerpt":"Computer Languages Computer Languages are languages used by humans to tell computers what to do. There are multiple types of computer…","frontmatter":{"title":"Computer Languages","tags":[],"description":"Computer Languages: How humans tell computers what to do"},"fields":{"slug":"/computer-language/"}},{"excerpt":"","frontmatter":{"title":"Databases","tags":[],"description":"Databases: Organized collections of structured data"},"fields":{"slug":"/database/"}},{"excerpt":"","frontmatter":{"title":"Database as Code","tags":[],"description":"A technique to version-control and automate the deployment of database schemas"},"fields":{"slug":"/database-as-code/"}},{"excerpt":"Recipe: Configure Spring Boot on Cloud Foundry This recipe is illustrated in the PAL Tracker example project. 1. Inject Environment…","frontmatter":{"title":"Cloud Foundry Spring Boot Environment Basics","tags":["cloud-foundry","gradle","intellij","java","microservices","pal-tracker"],"description":null},"fields":{"slug":"/cloud-foundry-spring-boot-environment/"}},{"excerpt":"Recipe: PCF Cloud Native App This recipe is based on the PAL Tracker example project. 1. Create the PCF Developer Environment Developing…","frontmatter":{"title":"Pivotal Cloud Foundry (PCF) with Spring Boot Basics","tags":["java","spring-boot","microservices","cloud-foundry","pal-tracker","intellij"],"description":null},"fields":{"slug":"/cloud-foundry-spring-boot/"}},{"excerpt":"","frontmatter":{"title":"Docker","tags":[],"description":"A set of tools to build and run containers"},"fields":{"slug":"/docker/"}},{"excerpt":"","frontmatter":{"title":"Frankensteins (Exercise)","tags":["exercise"],"description":"An exercise for hamstring flexibility and lower abdominal muscles"},"fields":{"slug":"/exercise-frankenstein/"}},{"excerpt":"How to do a Dumbbell Wood Chop","frontmatter":{"title":"Dumbbell Wood Chop","tags":["exercise"],"description":"A core and full-body dumbbell exercise"},"fields":{"slug":"/exercise-dumbbell-wood-chop/"}},{"excerpt":"","frontmatter":{"title":"Pike Walks (Exercise)","tags":["exercise"],"description":"An exercise for balance and hip flexibility"},"fields":{"slug":"/exercise-pike-walk/"}},{"excerpt":"Useful Docker Shell Command and \"Shortcuts\" Start/Stop All Docker Containers This example starts then stops all containers: Remove All…","frontmatter":{"title":"Useful Docker Commands","tags":["docker","shell"],"description":null},"fields":{"slug":"/docker-commands/"}},{"excerpt":"Error response from daemon: invalid bind mount spec The call to  using Git Bash on Windows was recently frustrating me when I tried to…","frontmatter":{"title":"Docker: Fix Invalid Bind Mount Spec in Git Bash","tags":["docker","git-bash"],"description":null},"fields":{"slug":"/docker-fix-invalid-bind-mount-spec-gitbash/"}},{"excerpt":"","frontmatter":{"title":"Hip Walks (Exercise)","tags":["exercise"],"description":"An exercise for balance and hip flexibility"},"fields":{"slug":"/exercise-hip-walk/"}},{"excerpt":"\"Forbidden path outside the build context\" I was recently attempting to Dockerize a Node project, so I added a  folder to the project and…","frontmatter":{"title":"Include Files Outside Docker Build Context","tags":["docker"],"description":null},"fields":{"slug":"/docker-include-files-outside-build-context/"}},{"excerpt":"","frontmatter":{"title":"Exercise Routines","tags":["exercise"],"description":"Exercise routines to improve and maintain physical health"},"fields":{"slug":"/exercise-routine/"}},{"excerpt":"","frontmatter":{"title":"Traffic Cops (Exercise)","tags":["exercise"],"description":"A shoulder flexibility exercise"},"fields":{"slug":"/exercise-traffic-cop/"}},{"excerpt":"Easy Upper Body Exercise Routine   Time 20 to 30 minutes Difficulty Easy Equipment Dumbbells, Yoga Ball This routine can be an easy stand…","frontmatter":{"title":"Easy Upper Body Exercise Routine","tags":["exercise","exercise-routine","exercise-rotational-overhead-press","exercise-dumbbell-wood-chop","exercise-traffic-cop","exercise-yoga-ball-roll","exercise-pike-walk"],"description":"A simple 20-30 minute upper body exercise routine"},"fields":{"slug":"/exercise-routine-upper-body-easy/"}},{"excerpt":"","frontmatter":{"title":"Yoga Ball Rolls","tags":["exercise"],"description":"A shoulder flexibility and core exercise"},"fields":{"slug":"/exercise-yoga-ball-roll/"}},{"excerpt":"","frontmatter":{"title":"Spider-Mans (Exercise)","tags":["exercise"],"description":"A core and flexibility exercise"},"fields":{"slug":"/exercise-spider-man/"}},{"excerpt":"Exercise Resources CDC Physical Activity Basics","frontmatter":{"title":"Exercise","tags":[],"description":"Physical activity meant to improve and maintain physical health"},"fields":{"slug":"/exercise/"}},{"excerpt":"Git Bash Git Bash is a Bash emulator and terminal for Windows that includes common Unix utilities. It is packaged with Git for Windows…","frontmatter":{"title":"Git Bash","tags":["bash","git","shell","terminal"],"description":"A Bash emulator and terminal for Windows"},"fields":{"slug":"/git-bash/"}},{"excerpt":"","frontmatter":{"title":"Flyway","tags":["database-as-code"],"description":"Flyway: A tool to version control database schemas in plain SQL"},"fields":{"slug":"/flyway/"}},{"excerpt":"Gradle Build Tool Gradle is build automation tool that automates common software build steps like compile, test, package, deploy, and…","frontmatter":{"title":"Gradle Build Tool","tags":[],"description":null},"fields":{"slug":"/gradle/"}},{"excerpt":"Git Git is a free, open-source distributed version control system.","frontmatter":{"title":"Git","tags":["cli"],"description":"A distributed version-control system to track changes, typically for software development projects"},"fields":{"slug":"/git/"}},{"excerpt":"Easy Full Body Exercise Routine   Time 20 to 30 minutes Difficulty Easy Equipment Dumbbells This routine can be an easy stand-alone routine…","frontmatter":{"title":"Easy Full Body Exercise Routine","tags":["exercise","exercise-routine","exercise-dumbbell-wood-chop","exercise-rotational-overhead-press","exercise-spider-man","exercise-hip-walk","exercise-frankenstein"],"description":"A simple 20-30 minute full body exercise routine"},"fields":{"slug":"/exercise-routine-full-body-easy/"}},{"excerpt":"How to do a Rotational Overhead Press","frontmatter":{"title":"Rotational Overhead Press","tags":["exercise"],"description":"A core and shoulders dumbbell exercise"},"fields":{"slug":"/exercise-rotational-overhead-press/"}},{"excerpt":"","frontmatter":{"title":"Internet of Things (IoT)","tags":[],"description":"Tools and technologies behind Internet of Things (IoT)"},"fields":{"slug":"/iot/"}},{"excerpt":"","frontmatter":{"title":"Infrastructure as Code","tags":[],"description":"A technique to version-control and automate the deployment of virtualized infrastructure"},"fields":{"slug":"/infrastructure-as-code/"}},{"excerpt":"jq jq can slice, filter, map, and transform structured JSON data similar to how , ,  is used for plain text.","frontmatter":{"title":"jq","tags":["cli"],"description":"A portable CLI to slice, filter, and map JSON data"},"fields":{"slug":"/jq/"}},{"excerpt":"Java Java is a general purpose, object-oriented programming language.","frontmatter":{"title":"Java","tags":["computer-language"],"description":"A cross-platform, object-oriented programming language"},"fields":{"slug":"/java/"}},{"excerpt":"IntelliJ IDEA IntelliJ IDEA is a Java IDE, developed by JetBrains.","frontmatter":{"title":"IntelliJ IDE","tags":["java"],"description":null},"fields":{"slug":"/intellij/"}},{"excerpt":"Markdown is a simple language for writing rich-text documents using plain text.","frontmatter":{"title":"Markdown","tags":["computer-language"],"description":"Knowledge about Markdown"},"fields":{"slug":"/markdown/"}},{"excerpt":"Useful Git Aliases for Productivity A recent addition to my Automatic Development Environment Setup script were several Git aliases that…","frontmatter":{"title":"Git Aliases","tags":["git","shell"],"description":"A Bash emulator and terminal for Windows"},"fields":{"slug":"/git-aliases/"}},{"excerpt":"Package Managers A package manager is a software tool that automates the installation, upgrading, and un-installation of software or…","frontmatter":{"title":"Package Managers","tags":[],"description":"Package Managers: Apps that manage your apps"},"fields":{"slug":"/package-managers/"}},{"excerpt":"","frontmatter":{"title":"MySQL","tags":["database"],"description":"MySQL: An open-source relational database management system (RDBMS)"},"fields":{"slug":"/mysql/"}},{"excerpt":"","frontmatter":{"title":"Microservices","tags":[],"description":"A software architecture in which applications are made up of loosely coupled services"},"fields":{"slug":"/microservices/"}},{"excerpt":"How to Comment a Markdown File Markdown doesn't include specific syntax for comments, but there is a workaround using the reference style…","frontmatter":{"title":"Markdown Code Comments","tags":["markdown"],"description":null},"fields":{"slug":"/markdown-comments/"}},{"excerpt":"Spring Boot Spring Boot is an open source Java framework used to develop REST services based on Spring Framework.","frontmatter":{"title":"Spring Boot","tags":["java","spring-framework"],"description":null},"fields":{"slug":"/spring-boot/"}},{"excerpt":"PowerShell PowerShell is a cross-platform command-line shell and scripting language.","frontmatter":{"title":"PowerShell","tags":["computer-language","terminal"],"description":"PowerShell: A command-line shell and scripting language"},"fields":{"slug":"/powershell/"}},{"excerpt":"PAL Tracker PAL Tracker is an example app used to show basic application management and deployment strategies in Cloud Foundry. PAL Tracker…","frontmatter":{"title":"PAL Tracker","tags":["cloud-foundry","gradle","java","spring-boot"],"description":"An example application to demonstrate application deployment and management strategies in Java, Spring Boot, and Cloud Foundry"},"fields":{"slug":"/pal-tracker/"}},{"excerpt":"Spring Framework Spring Framework is an application framework and inversion of control container for Java.","frontmatter":{"title":"Spring Framework","tags":["java"],"description":null},"fields":{"slug":"/spring-framework/"}},{"excerpt":"Shells Shells are text-based command processing applications, often used via a terminal.","frontmatter":{"title":"Shells","tags":["terminal"],"description":"Shells process text based commands"},"fields":{"slug":"/shell/"}},{"excerpt":"Test Driven Development (TDD) TDD - Where did it all go wrong?","frontmatter":{"title":"Test Driven Development (TDD)","tags":["unit-tests"],"description":null},"fields":{"slug":"/test-driven-development/"}},{"excerpt":"Example: Add a Property to the Window type in TypeScript Explanation Declaration files (files ending with ) are used to declare types for…","frontmatter":{"title":"TypeScript: Extend the Window (globalThis) Object","tags":["typescript"],"description":"Add custom properties to the Window interface with TypeScript"},"fields":{"slug":"/typescript-extend-window/"}},{"excerpt":"TypeScript TypeScript is an open-source language that builds on JavaScript to add static type definitions.","frontmatter":{"title":"TypeScript","tags":["computer-language"],"description":"TypeScript: A programming language that adds optional static typing to JavaScript"},"fields":{"slug":"/typescript/"}},{"excerpt":"Unit Tests Unit tests are tests that run in isolation from other tests. Unit tests are typically written by developers to test their own…","frontmatter":{"title":"Unit Tests","tags":[],"description":null},"fields":{"slug":"/unit-tests/"}},{"excerpt":"Terminals Terminals are text-based applications read and write to a shell. A \"shell\" and a \"terminal\" may be the same application (such as…","frontmatter":{"title":"Terminals","tags":["shell"],"description":"Terminals are text-based applications read and write to a shell"},"fields":{"slug":"/terminal/"}},{"excerpt":"DynamoDB Local Secondary Index A local secondary index essentially gives DynamoDB tables an additional sort key by which to query data. I…","frontmatter":{"title":"DynamoDB & CloudFormation: Add a Local Secondary Index to Existing Table","tags":["aws-cloudformation","aws-dynamodb","aws-cli","jq","database-as-code","infrastructure-as-code"],"description":null},"fields":{"slug":"/aws-dynamodb-local-secondary-index-existing-table-cloudformation/"}},{"excerpt":"Recipe: Create, Retrieve, Update, and Delete with Spring MVC This recipe is based on the PAL Tracker example project. 1. Create the Model We…","frontmatter":{"title":"Spring MVC CRUD Operations","tags":["java","intellij","gradle","cloud-foundry","pal-tracker","spring-boot","microservices"],"description":null},"fields":{"slug":"/cloud-foundry-spring-mvc-crud-operations/"}}]}},"pageContext":{"slug":"/docker-include-files-outside-build-context/"}},"staticQueryHashes":["3649515864","80858887"]}