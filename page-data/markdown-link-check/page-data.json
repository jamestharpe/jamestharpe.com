{"componentChunkName":"component---src-templates-article-tsx","path":"/markdown-link-check/","result":{"data":{"markdownRemark":{"html":"<h1>How to Detect Broken Links in Markdown</h1>\n<p>The <a href=\"https://www.npmjs.com/package/markdown-link-check\"><code class=\"language-text\">markdown-link-check</code> NPM package</a> makes it easy to scan a markdown file for broken links, but what about a whole website?</p>\n<p>This simple Bash script will scan all markdown links:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/env bash</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">file</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> -name <span class=\"token punctuation\">\\</span>\"*.md<span class=\"token punctuation\">\\</span>\"<span class=\"token variable\">)</span></span>\n<span class=\"token keyword\">do</span>\n\tmarkdown-link-check --verbose --config .markdown-link-check.config.json <span class=\"token punctuation\">\\</span>\"<span class=\"token variable\">$file</span><span class=\"token punctuation\">\\</span>\" <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">done</span></code></pre></div>\n<h2>Static Site Generator Example with Gatsby</h2>\n<p>Though these instructions are written for Gatsby, they can be easily adapted to any static site generator.</p>\n<h3>1. Install <code class=\"language-text\">markdown-link-check</code> locally</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev markdown-link-check</code></pre></div>\n<h3>2. Configure Crawling Options</h3>\n<p><a href=\"https://www.gatsbyjs.com/\">Gatsby</a> stores static files in the <code class=\"language-text\">static/</code> folder, so we have to map references to these files to prefix them with <code class=\"language-text\">/static/</code>.</p>\n<p>Create a file called <code class=\"language-text\">.markdown-link-check.config.json</code> in your project root to configure the mapping:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"replacementPatterns\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"pattern\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^\\/img\\/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"replacement\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../static/img/\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>3. Add a <code class=\"language-text\">test:links</code> script to <code class=\"language-text\">package.json</code></h3>\n<p>The <code class=\"language-text\">markdown-link-check</code> CLI only checks one file at a time, we need to loop through all markdown files and ignore the contents of the <code class=\"language-text\">node_modules</code> folder in our script:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t...\n\t<span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t...\n\t\t<span class=\"token property\">\"test:links\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"for file in $(find . -path ./node_modules -prune -false -o -name \\\"*.md\\\"); do markdown-link-check --verbose --config .markdown-link-check.config.json \\\"$file\\\" || exit 1; done;\"</span><span class=\"token punctuation\">,</span>\n\t\t...\n\t<span class=\"token punctuation\">}</span>\n\t...\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You can now integrate <code class=\"language-text\">npm run test:links</code> into your CI/CD process.</p>","fields":{"slug":"/markdown-link-check/"},"frontmatter":{"title":"Markdown: Detect Broken links","tags":["markdown","cli","bash"]}}},"pageContext":{"slug":"/markdown-link-check/"}},"staticQueryHashes":["2270328656","3794076007","80858887"]}