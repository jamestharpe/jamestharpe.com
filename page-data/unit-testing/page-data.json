{"componentChunkName":"component---src-templates-article-tsx","path":"/unit-testing/","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"date\": \"2019-03-15T17:17:45.000Z\",\n  \"description\": \"The art and science of writing unit tests\",\n  \"title\": \"Unit Testing\",\n  \"tags\": [\"software-testing\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Unit Tests\"), mdx(\"p\", null, \"Unit tests are tests that run in isolation from other tests. Unit tests are typically written by developers to test their own code and expected to run frequently and quickly.\"), mdx(\"h2\", null, \"Semantics: The \\\"Unit\\\" in Unit Tests\"), mdx(\"p\", null, \"The \\\"unit\\\" of isolation for a unit test \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"is the test its self\"), \". Some developers \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"wrongly\"), \" consider the unit of isolation to be the system under test (the class, module, or function). This semantic difference of understanding can sometimes overwhelm otherwise productive discussions, especially when the difference is not explicitly stated.\"), mdx(\"h3\", null, \"Why is it Wrong to Consider the System Under Test the Unit of Isolation?\"), mdx(\"p\", null, \"The test is a more practical unit of isolation because it does not encourage needless isolation of the system under test, and instead focuses the developer on the desired \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"behavior\"), \" to be tested.\"), mdx(\"p\", null, \"Software's behavior, not code, is what gives it value. Code may be endlessly refactored and rewritten, but it is only valuable as long as the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"behavior\"), \" is correct. We therefore find more value in a definition that encourages us to test \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"behavior\"), \" in isolation over one that encourages us to test code - which can change endlessly - in isolation.\"), mdx(\"h3\", null, \"Practical Conversations with Purists\"), mdx(\"p\", null, \"When discussing unit tests, I occasionally run into a purist that insists that the system under test, not the test its self, is the unit of isolation. Rather than argue, I'm happy to accept their definition if I can be allowed to introduce one of my own: Developer Test.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Developer Test\"), \": An automated test written by a developer to test the behavior of their application.\")), mdx(\"p\", null, \"This generally helps to focus on what's important without requiring a concession.\"), mdx(\"h2\", null, \"Unit Test Structure\"), mdx(\"p\", null, \"Though not strictly required, it's generally best for unit tests to follow a three-step pattern that resembles a small finite state machine consisting of an initial state, a single action, then finally a desired state.\"), mdx(\"p\", null, \"This pattern usually goes by either of two mnemonics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Arrange, Act, Assert\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Given, When, Then\")), mdx(\"p\", null, \"In both cases we define an initial state, perform an action, and confirm the result. I personally prefer the declarative \\\"Given, When, Then\\\" over the imperative \\\"Arrange, Act, Assert\\\" because it more easily forms a sentence: \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Given a bank balance of \", \"$\", \"100, when I withdraw \", \"$\", \"20, then the bank balance is \", \"$\", \"80\"), \".\"), mdx(\"h2\", null, \"Effective Unit Tests\"), mdx(\"p\", null, \"An effective unit test suite...\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Is likely to catch a regression error\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Won't often produce false positives (including during a refactor)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Saves more time than it requires to maintain\")), mdx(\"h3\", null, \"Characteristics of Good Unit Tests\"), mdx(\"p\", null, \"Good unit tests...\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Cover a single behavior, observable from the end user's perspective\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Are deterministic, predictable, and repeatable\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Verify \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"business\"), \" requirements\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Are run frequently without disrupting workflow\")), mdx(\"h3\", null, \"Tips to Write Effective Unit Tests\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Write the tests first\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Focus on the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"behavior\"), \" you want rather, not internals\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use natural language to name tests\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don't couple tests to implementation details unless absolutely necessary\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don't mock dependencies unless there's an obvious benefit (e.g. speed, determinism)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don't rely on a test unless you've seen if fail\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don't bother to test trivial code (e.g. property getters/setters)\")), mdx(\"h3\", null, \"Ineffective Unit Test \\\"Smells\\\"\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Failing tests are difficult to debug\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Tests fail randomly or unpredictably\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Changes in implementation require changes in tests (tightly coupled)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Developers avoid running tests\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Test failures aren't a priority\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You must mock the internals of your domain model to write tests\")), mdx(\"h2\", null, \"Additional Resources\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://www.extremeprogramming.org/rules/unittests.html\"\n  }, \"Extreme Programming: Unit Tests\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.martinfowler.com/bliki/UnitTest.html\"\n  }, \"Unit Test by Martin Fowler\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://martinfowler.com/bliki/TestPyramid.html\"\n  }, \"The Test Pyramid by Martin Fowler\"))));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"slug":"/unit-testing/"},"frontmatter":{"description":"The art and science of writing unit tests","tags":["software-testing"],"title":"Unit Testing"}}},"pageContext":{"slug":"/unit-testing/"}},"staticQueryHashes":["3794076007","4068398115","80858887"]}