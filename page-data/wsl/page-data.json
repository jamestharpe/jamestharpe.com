{"componentChunkName":"component---src-templates-article-tsx","path":"/wsl/","result":{"data":{"markdownRemark":{"html":"<h1>WSL Tips and Tricks</h1>\n<h2>Reset Root User's Password</h2>\n<ol>\n<li>Open <a href=\"../powershell/\">PowerShell</a>, then use the <code class=\"language-text\">wsl -u root</code> command to change the password.</li>\n<li>At the prompt, enter <code class=\"language-text\">passwd &lt;username&gt;</code> where <code class=\"language-text\">&lt;username&gt;</code> is the account to change the password of, (e.g. <code class=\"language-text\">passwd james</code>).</li>\n<li>Enter your password twice as prompted. It will not show in the <a href=\"../terminal/\">terminal</a>.</li>\n</ol>\n<p>The password is now changed! Here's an example session using the username <code class=\"language-text\">current_user</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">PS</span> C:\\> wsl <span class=\"token operator\">-</span>u root\nroot@COMPUTER:<span class=\"token operator\">/</span>mnt<span class=\"token operator\">/</span>c<span class=\"token operator\">/</span>Users<span class=\"token operator\">/</span>current_user<span class=\"token operator\">/</span><span class=\"token comment\"># passwd current_user</span>\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: updated successfully\nroot@COMPUTER:<span class=\"token operator\">/</span>mnt<span class=\"token operator\">/</span>c<span class=\"token operator\">/</span>Users<span class=\"token operator\">/</span>current_user<span class=\"token operator\">/</span><span class=\"token comment\"># exit</span>\nlogout\n<span class=\"token function\">PS</span> C:\\></code></pre></div>\n<h2>Fix connection issues while on VPN</h2>\n<p>Based on <a href=\"https://github.com/microsoft/WSL/issues/4285#issuecomment-522201021\">this comment</a>, the following instructions worked for me on Ubuntu Linux:</p>\n<p>In your WSL Linux instance, create or edit <code class=\"language-text\">/etc/wsl.conf</code> to look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token selector\">[network]</span>\n<span class=\"token constant\">generateResolvConf</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> false</span></code></pre></div>\n<p>Back in Windows, restart WSL using <a href=\"../powershell/\">PowerShell</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">wsl <span class=\"token operator\">--</span>shutdown\nwsl</code></pre></div>\n<p>In your WSL Linux, create or edit <code class=\"language-text\">/etc/resolv.conf</code> to have the following entry (you may or may not have to delete other entries to get it working):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">nameserver 8.8.8.8</code></pre></div>\n<p>Restart WSL again:</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">wsl <span class=\"token operator\">--</span>shutdown\nwsl</code></pre></div>\n<p>Finally, once connected to the VPN, run the following command in Windows PowerShell:</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">Get-NetAdapter</span> <span class=\"token punctuation\">|</span> <span class=\"token function\">Where-Object</span> <span class=\"token punctuation\">{</span><span class=\"token variable\">$_</span><span class=\"token punctuation\">.</span>InterfaceDescription <span class=\"token operator\">-Match</span> <span class=\"token string\">\"Cisco AnyConnect\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">|</span> <span class=\"token function\">Set-NetIPInterface</span> <span class=\"token operator\">-</span>InterfaceMetric 6000</code></pre></div>","fields":{"slug":"/wsl/"},"frontmatter":{"title":"Windows Subsystem for Linux (WSL)","tags":["linux","windows"]}}},"pageContext":{"slug":"/wsl/"}},"staticQueryHashes":["2270328656","3794076007","80858887"]}