{"expireTime":9007200860997566000,"key":"transformer-remark-markdown-ast-ac11f5cada77a00a94df8b7a15546bc2-gatsby-remark-graphgatsby-remark-prismjsgatsby-remark-katex-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Recipe: PCF Cloud Native App","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":31,"offset":31},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":31,"offset":31},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This recipe is based on the ","position":{"start":{"line":4,"column":1,"offset":33},"end":{"line":4,"column":29,"offset":61},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/jamestharpe/pal-tracker","children":[{"type":"text","value":"PAL Tracker","position":{"start":{"line":4,"column":30,"offset":62},"end":{"line":4,"column":41,"offset":73},"indent":[]}}],"position":{"start":{"line":4,"column":29,"offset":61},"end":{"line":4,"column":86,"offset":118},"indent":[]}},{"type":"text","value":" example project.","position":{"start":{"line":4,"column":86,"offset":118},"end":{"line":4,"column":103,"offset":135},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":33},"end":{"line":4,"column":103,"offset":135},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"1. Create the PCF Developer Environment","position":{"start":{"line":6,"column":4,"offset":140},"end":{"line":6,"column":43,"offset":179},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":137},"end":{"line":6,"column":43,"offset":179},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Developing Spring apps for PAL \"the Pivotal way\" requires ","position":{"start":{"line":8,"column":1,"offset":181},"end":{"line":8,"column":59,"offset":239},"indent":[]}},{"type":"link","title":null,"url":"https://git-scm.com/","children":[{"type":"text","value":"Git","position":{"start":{"line":8,"column":60,"offset":240},"end":{"line":8,"column":63,"offset":243},"indent":[]}}],"position":{"start":{"line":8,"column":59,"offset":239},"end":{"line":8,"column":86,"offset":266},"indent":[]}},{"type":"text","value":", Java 8 or above, ","position":{"start":{"line":8,"column":86,"offset":266},"end":{"line":8,"column":105,"offset":285},"indent":[]}},{"type":"link","title":null,"url":"https://www.jetbrains.com/idea/","children":[{"type":"text","value":"IntelliJ","position":{"start":{"line":8,"column":106,"offset":286},"end":{"line":8,"column":114,"offset":294},"indent":[]}}],"position":{"start":{"line":8,"column":105,"offset":285},"end":{"line":8,"column":148,"offset":328},"indent":[]}},{"type":"text","value":", the ","position":{"start":{"line":8,"column":148,"offset":328},"end":{"line":8,"column":154,"offset":334},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/cloudfoundry/cli/releases","children":[{"type":"text","value":"Cloud Foundry CLI","position":{"start":{"line":8,"column":155,"offset":335},"end":{"line":8,"column":172,"offset":352},"indent":[]}}],"position":{"start":{"line":8,"column":154,"offset":334},"end":{"line":8,"column":219,"offset":399},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":8,"column":219,"offset":399},"end":{"line":8,"column":221,"offset":401},"indent":[]}},{"type":"link","title":null,"url":"https://gradle.org/","children":[{"type":"text","value":"Gradle","position":{"start":{"line":8,"column":222,"offset":402},"end":{"line":8,"column":228,"offset":408},"indent":[]}}],"position":{"start":{"line":8,"column":221,"offset":401},"end":{"line":8,"column":250,"offset":430},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":8,"column":250,"offset":430},"end":{"line":8,"column":252,"offset":432},"indent":[]}},{"type":"link","title":null,"url":"https://www.mysql.com/downloads/","children":[{"type":"text","value":"MySQL","position":{"start":{"line":8,"column":253,"offset":433},"end":{"line":8,"column":258,"offset":438},"indent":[]}}],"position":{"start":{"line":8,"column":252,"offset":432},"end":{"line":8,"column":293,"offset":473},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":8,"column":293,"offset":473},"end":{"line":8,"column":299,"offset":479},"indent":[]}},{"type":"link","title":null,"url":"https://flywaydb.org/","children":[{"type":"text","value":"Flyway","position":{"start":{"line":8,"column":300,"offset":480},"end":{"line":8,"column":306,"offset":486},"indent":[]}}],"position":{"start":{"line":8,"column":299,"offset":479},"end":{"line":8,"column":330,"offset":510},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":8,"column":330,"offset":510},"end":{"line":8,"column":331,"offset":511},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":181},"end":{"line":8,"column":331,"offset":511},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once the tools are installed, log in to Cloud Foundry (CF):","position":{"start":{"line":10,"column":1,"offset":513},"end":{"line":10,"column":60,"offset":572},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":513},"end":{"line":10,"column":60,"offset":572},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf login -a <span class=\"token variable\">${CF_API_ENDPOINT}</span>\n<span class=\"token comment\"># ... follow the prompts ...</span></code></pre></div>","position":{"start":{"line":12,"column":1,"offset":574},"end":{"line":15,"column":4,"offset":645},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"From there, the CLI can be used to explore the Cloud Foundry environment. Here are a few useful commands:","position":{"start":{"line":17,"column":1,"offset":647},"end":{"line":17,"column":106,"offset":752},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":647},"end":{"line":17,"column":106,"offset":752},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf target <span class=\"token comment\"># View the targeted organization or space</span>\ncf apps <span class=\"token comment\"># List applications in the target CF space</span>\ncf services <span class=\"token comment\"># List services in the target CF space</span>\ncf marketplace <span class=\"token comment\"># List services that can added to the target CF space</span></code></pre></div>","position":{"start":{"line":19,"column":1,"offset":754},"end":{"line":24,"column":4,"offset":988},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Additional information: ","position":{"start":{"line":26,"column":1,"offset":990},"end":{"line":26,"column":25,"offset":1014},"indent":[]}},{"type":"link","title":null,"url":"https://prerequisites.pal.pivotal.io/","children":[{"type":"text","value":"Platform Acceleration Lab","position":{"start":{"line":26,"column":26,"offset":1015},"end":{"line":26,"column":51,"offset":1040},"indent":[]}}],"position":{"start":{"line":26,"column":25,"offset":1014},"end":{"line":26,"column":91,"offset":1080},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":990},"end":{"line":26,"column":91,"offset":1080},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"2. Create a Spring Boot Application","position":{"start":{"line":28,"column":4,"offset":1085},"end":{"line":28,"column":39,"offset":1120},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1082},"end":{"line":28,"column":39,"offset":1120},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Start with Gradle:","position":{"start":{"line":30,"column":1,"offset":1122},"end":{"line":30,"column":19,"offset":1140},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1122},"end":{"line":30,"column":19,"offset":1140},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">gradle wrapper\n<span class=\"token function\">touch</span> build.gradle</code></pre></div>","position":{"start":{"line":32,"column":1,"offset":1142},"end":{"line":35,"column":4,"offset":1187},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Open the project in IntelliJ using ","position":{"start":{"line":37,"column":1,"offset":1189},"end":{"line":37,"column":36,"offset":1224},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"File > Open","position":{"start":{"line":37,"column":38,"offset":1226},"end":{"line":37,"column":49,"offset":1237},"indent":[]}}],"position":{"start":{"line":37,"column":36,"offset":1224},"end":{"line":37,"column":51,"offset":1239},"indent":[]}},{"type":"text","value":" rather than the import feature.","position":{"start":{"line":37,"column":51,"offset":1239},"end":{"line":37,"column":83,"offset":1271},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":1189},"end":{"line":37,"column":83,"offset":1271},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In IntelliJ, update the ","position":{"start":{"line":39,"column":1,"offset":1273},"end":{"line":39,"column":25,"offset":1297},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"build.gradle","position":{"start":{"line":39,"column":27,"offset":1299},"end":{"line":39,"column":39,"offset":1311},"indent":[]}}],"position":{"start":{"line":39,"column":25,"offset":1297},"end":{"line":39,"column":41,"offset":1313},"indent":[]}},{"type":"text","value":" file to use the Java plug-in, reference the Maven Central repository, and apply the latest ","position":{"start":{"line":39,"column":41,"offset":1313},"end":{"line":39,"column":133,"offset":1405},"indent":[]}},{"type":"link","title":null,"url":"https://docs.spring.io/spring-boot/docs/2.1.2.RELEASE/gradle-plugin/reference/html/","children":[{"type":"text","value":"Spring Boot Gradle plug-in","position":{"start":{"line":39,"column":134,"offset":1406},"end":{"line":39,"column":160,"offset":1432},"indent":[]}}],"position":{"start":{"line":39,"column":133,"offset":1405},"end":{"line":39,"column":246,"offset":1518},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":39,"column":246,"offset":1518},"end":{"line":39,"column":247,"offset":1519},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1273},"end":{"line":39,"column":247,"offset":1519},"indent":[]}},{"type":"html","lang":"groovy","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token comment\">// Gradle Configuration</span>\n\nbuildscript <span class=\"token punctuation\">{</span>\n\text <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// Set Spring Boot version as variable</span>\n\t\tspringBootVersion <span class=\"token operator\">=</span> <span class=\"token string gstring\">\"2.0.6.RELEASE\"</span>\n\t<span class=\"token punctuation\">}</span>\n\n\trepositories <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// Use Maven Central to get required packages</span>\n\t\t<span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n\n\tdependencies <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// Add specified version of Spring Boot to class path</span>\n\t\tclasspath <span class=\"token string gstring\">\"org.springframework.boot:spring-boot-gradle-plugin:<span class=\"token expression\"><span class=\"token punctuation\">$</span>springBootVersion</span>\"</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// PAL Tracker Configuration</span>\n\nplugins <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// It's a Java Project!</span>\n\tid <span class=\"token string gstring\">\"java\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Apply the Spring Framework plug-in</span>\napply plugin<span class=\"token punctuation\">:</span> <span class=\"token string\">'org.springframework.boot'</span>\n\nrepositories <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// Use Maven Central to get required packages</span>\n\t<span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ndependencies <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// Add specified version of Spring Boot to class path</span>\n\t<span class=\"token function\">compile</span><span class=\"token punctuation\">(</span><span class=\"token string gstring\">\"org.springframework.boot:spring-boot-starter-web:<span class=\"token expression\"><span class=\"token punctuation\">$</span>springBootVersion</span>\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":41,"column":1,"offset":1521},"end":{"line":81,"column":4,"offset":2303},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Next, create a file ","position":{"start":{"line":83,"column":1,"offset":2305},"end":{"line":83,"column":21,"offset":2325},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"settings.gradle","position":{"start":{"line":83,"column":23,"offset":2327},"end":{"line":83,"column":38,"offset":2342},"indent":[]}}],"position":{"start":{"line":83,"column":21,"offset":2325},"end":{"line":83,"column":40,"offset":2344},"indent":[]}},{"type":"text","value":" to set the name of the Gradle project. This determines the name of the JAR file when the application is built:","position":{"start":{"line":83,"column":40,"offset":2344},"end":{"line":83,"column":151,"offset":2455},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":2305},"end":{"line":83,"column":151,"offset":2455},"indent":[]}},{"type":"html","lang":"groovy","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">rootProject<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string gstring\">\"pal-tracker\"</span></code></pre></div>","position":{"start":{"line":85,"column":1,"offset":2457},"end":{"line":87,"column":4,"offset":2503},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Gradle Project Structure","position":{"start":{"line":89,"column":5,"offset":2509},"end":{"line":89,"column":29,"offset":2533},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":2505},"end":{"line":89,"column":29,"offset":2533},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create a minimal ","position":{"start":{"line":91,"column":1,"offset":2535},"end":{"line":91,"column":18,"offset":2552},"indent":[]}},{"type":"link","title":null,"url":"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","children":[{"type":"text","value":"standard Maven directory layout","position":{"start":{"line":91,"column":19,"offset":2553},"end":{"line":91,"column":50,"offset":2584},"indent":[]}}],"position":{"start":{"line":91,"column":18,"offset":2552},"end":{"line":91,"column":148,"offset":2682},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":91,"column":148,"offset":2682},"end":{"line":91,"column":149,"offset":2683},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":2535},"end":{"line":91,"column":149,"offset":2683},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> -p src/main/java</code></pre></div>","position":{"start":{"line":93,"column":1,"offset":2685},"end":{"line":95,"column":4,"offset":2719},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Use IntelliJ to create a new package called ","position":{"start":{"line":97,"column":1,"offset":2721},"end":{"line":97,"column":45,"offset":2765},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">io.pivotal.pal.tracker</code>","position":{"start":{"line":97,"column":45,"offset":2765},"end":{"line":97,"column":69,"offset":2789},"indent":[]}},{"type":"text","value":". This might require setting 'src/main/java` as the \"Sources Root\" first:","position":{"start":{"line":97,"column":69,"offset":2789},"end":{"line":97,"column":142,"offset":2862},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":2721},"end":{"line":97,"column":142,"offset":2862},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/img/intellij-sources-root.png","alt":"Set IntelliJ sources root","position":{"start":{"line":99,"column":1,"offset":2864},"end":{"line":99,"column":61,"offset":2924},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":2864},"end":{"line":99,"column":61,"offset":2924},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"With the basic project structure established, we can create a class for our application called ","position":{"start":{"line":101,"column":1,"offset":2926},"end":{"line":101,"column":96,"offset":3021},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">PalTrackerApplication</code>","position":{"start":{"line":101,"column":96,"offset":3021},"end":{"line":101,"column":119,"offset":3044},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":101,"column":119,"offset":3044},"end":{"line":101,"column":120,"offset":3045},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":2926},"end":{"line":101,"column":120,"offset":3045},"indent":[]}},{"type":"html","lang":"java","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">io<span class=\"token punctuation\">.</span>pivotal<span class=\"token punctuation\">.</span>pal<span class=\"token punctuation\">.</span>tracker</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>boot<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>boot<span class=\"token punctuation\">.</span>autoconfigure<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SpringBootApplication</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Tell Spring Boot that this is our main entry point</span>\n<span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PalTrackerApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Start the app</span>\n        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PalTrackerApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// Later: Register beans with @Bean</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":103,"column":1,"offset":3047},"end":{"line":120,"column":4,"offset":3512},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":122,"column":1,"offset":3514},"end":{"line":122,"column":5,"offset":3518},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">@SpringBootApplication</code>","position":{"start":{"line":122,"column":5,"offset":3518},"end":{"line":122,"column":29,"offset":3542},"indent":[]}},{"type":"text","value":" annotation tells Spring Boot that this class contains the main entrypoint of the application. The call to ","position":{"start":{"line":122,"column":29,"offset":3542},"end":{"line":122,"column":136,"offset":3649},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">SpringApplication.run(...)</code>","position":{"start":{"line":122,"column":136,"offset":3649},"end":{"line":122,"column":164,"offset":3677},"indent":[]}},{"type":"text","value":" is boiler-plate to tell Spring to scan for the necessary components that will be ","position":{"start":{"line":122,"column":164,"offset":3677},"end":{"line":122,"column":246,"offset":3759},"indent":[]}},{"type":"link","title":null,"url":"https://martinfowler.com/articles/injection.html","children":[{"type":"text","value":"injected","position":{"start":{"line":122,"column":247,"offset":3760},"end":{"line":122,"column":255,"offset":3768},"indent":[]}}],"position":{"start":{"line":122,"column":246,"offset":3759},"end":{"line":122,"column":306,"offset":3819},"indent":[]}},{"type":"text","value":" into the controllers and other classes that make up the application.","position":{"start":{"line":122,"column":306,"offset":3819},"end":{"line":122,"column":375,"offset":3888},"indent":[]}}],"position":{"start":{"line":122,"column":1,"offset":3514},"end":{"line":122,"column":375,"offset":3888},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It's now possible to run the application, though you'll receive the generic Spring Boot Whitelabel Error Page.","position":{"start":{"line":124,"column":1,"offset":3890},"end":{"line":124,"column":111,"offset":4000},"indent":[]}}],"position":{"start":{"line":124,"column":1,"offset":3890},"end":{"line":124,"column":111,"offset":4000},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To make running the application, and later tests, easier you can delegate these actions to Gradle in IntelliJ under ","position":{"start":{"line":126,"column":1,"offset":4002},"end":{"line":126,"column":117,"offset":4118},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"File > Settings > Build, Execution, Deployment > Gradle > Runner","position":{"start":{"line":126,"column":119,"offset":4120},"end":{"line":126,"column":183,"offset":4184},"indent":[]}}],"position":{"start":{"line":126,"column":117,"offset":4118},"end":{"line":126,"column":185,"offset":4186},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":126,"column":185,"offset":4186},"end":{"line":126,"column":186,"offset":4187},"indent":[]}}],"position":{"start":{"line":126,"column":1,"offset":4002},"end":{"line":126,"column":186,"offset":4187},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/img/intellij-delegate-build-run-gradle.png","alt":"Delegate build run and test actions to Gradle in IntelliJ","position":{"start":{"line":128,"column":1,"offset":4189},"end":{"line":128,"column":106,"offset":4294},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":4189},"end":{"line":128,"column":106,"offset":4294},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create a REST Controller","position":{"start":{"line":130,"column":5,"offset":4300},"end":{"line":130,"column":29,"offset":4324},"indent":[]}}],"position":{"start":{"line":130,"column":1,"offset":4296},"end":{"line":130,"column":29,"offset":4324},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"With the basic project structure in place, we can create a simple REST controller by generating a new Java class and annotating it:","position":{"start":{"line":132,"column":1,"offset":4326},"end":{"line":132,"column":132,"offset":4457},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":4326},"end":{"line":132,"column":132,"offset":4457},"indent":[]}},{"type":"html","lang":"java","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">io<span class=\"token punctuation\">.</span>pivotal<span class=\"token punctuation\">.</span>pal<span class=\"token punctuation\">.</span>tracker</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">GetMapping</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RestController</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Tells spring that this controller provides REST end-points</span>\n<span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WelcomeController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// Maps \"GET\" requests to the application root</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":134,"column":1,"offset":4459},"end":{"line":150,"column":4,"offset":4873},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"When the application is run and launched in the browser, the \"hello\" string is returned.","position":{"start":{"line":152,"column":1,"offset":4875},"end":{"line":152,"column":89,"offset":4963},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":4875},"end":{"line":152,"column":89,"offset":4963},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"3. Push to Cloud Foundry","position":{"start":{"line":154,"column":4,"offset":4968},"end":{"line":154,"column":28,"offset":4992},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":4965},"end":{"line":154,"column":28,"offset":4992},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Build and deploy the application to Cloud Foundry:","position":{"start":{"line":156,"column":1,"offset":4994},"end":{"line":156,"column":51,"offset":5044},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":4994},"end":{"line":156,"column":51,"offset":5044},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">./gradlew build <span class=\"token comment\"># build the JAR</span>\ncf push -p build/libs/pal-tracker.jar <span class=\"token comment\"># deploy to CF</span></code></pre></div>","position":{"start":{"line":158,"column":1,"offset":5046},"end":{"line":161,"column":4,"offset":5142},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Get the application status:","position":{"start":{"line":163,"column":1,"offset":5144},"end":{"line":163,"column":28,"offset":5171},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":5144},"end":{"line":163,"column":28,"offset":5171},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf app pal-tracker <span class=\"token comment\"># Get application status</span></code></pre></div>","position":{"start":{"line":165,"column":1,"offset":5173},"end":{"line":167,"column":4,"offset":5228},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Get recent log output from the app:","position":{"start":{"line":169,"column":1,"offset":5230},"end":{"line":169,"column":36,"offset":5265},"indent":[]}}],"position":{"start":{"line":169,"column":1,"offset":5230},"end":{"line":169,"column":36,"offset":5265},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf logs --recent</code></pre></div>","position":{"start":{"line":171,"column":1,"offset":5267},"end":{"line":173,"column":4,"offset":5295},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The output of ","position":{"start":{"line":175,"column":1,"offset":5297},"end":{"line":175,"column":15,"offset":5311},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">cf push</code>","position":{"start":{"line":175,"column":15,"offset":5311},"end":{"line":175,"column":24,"offset":5320},"indent":[]}},{"type":"text","value":" will include a URL. Opening the URL in a web browser should bring up the application.","position":{"start":{"line":175,"column":24,"offset":5320},"end":{"line":175,"column":110,"offset":5406},"indent":[]}}],"position":{"start":{"line":175,"column":1,"offset":5297},"end":{"line":175,"column":110,"offset":5406},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":176,"column":1,"offset":5407}}}}